{% extends "base_page.html" %}
{% load staticfiles %}
{% load bootstrap %}
{% load s2c2_tags %}

{% block title %}Center | S2C2{% endblock %}

{% block page-header %}{% icon center %} {{ center|name }}{% endblock %}

{% block extra_header %}
  <link href='{% static 'fullcalendar/fullcalendar.css' %}' rel='stylesheet' />
  <link href='{% static 'fullcalendar/fullcalendar.print.css' %}' rel='stylesheet' media='print' />
  <script src="{% static 'fullcalendar/lib/moment.min.js' %}"></script>
  <script src='{% static 'fullcalendar/fullcalendar.js' %}'></script>
  {% include 'cal/includes/js_center.html' %}
{% endblock %}

{% block page-content %}
  <div class="row">
    <div class="col-sm-3 hidden-print">
      <div class="panel-group" id="calendar-panel-list">
        {% include "cal/includes/panel_center_legend.html" with panel_id="panel-center-legend" panel_title="Classrooms" panel_collapse=True %}
        {% include "cal/includes/panel_center_wall.html" with panel_id="panel-center-wall" panel_title="Wall" panel_collapse=True %}
        {% include "cal/includes/panel_center_staff.html" with panel_id="panel-center-staff" panel_title="Staff" panel_collapse=False %}
      </div>
    </div>
    <div class="col-sm-9">
      <nav><ul class="nav nav-tabs">
        <li class="active"><a href="#cal-center-tab-filled" data-toggle="tab">Classroom Schedule</a></li>
        <li><a href="#cal-center-tab-empty" data-toggle="tab">Not Covered ("Holes")</a></li>
        <li><a href="#cal-center-tab-available" data-toggle="tab">Who Are Available</a></li>
        <li><a href="#cal-center-tab-vacation" data-toggle="tab">Vacations</a></li>
      </ul></nav>

      <div id="fullcalendar-loading"><span class="label label-warning">Loading... <i class="fa fa-spinner fa-spin"></i></span></div>

      <div class="tab-content">
        <div class="tab-pane active" id="cal-center-tab-filled">
          <div id='calendar-filled'></div>
        </div>
        <div class="tab-pane" id="cal-center-tab-empty">
          <div id='calendar-empty'></div>
        </div>
        <div class="tab-pane" id="cal-center-tab-available">
          <div id='calendar-available'></div>
        </div>
        <div class="tab-pane" id="cal-center-tab-vacation">
          <table class="table table-bordered table-hover table-condensed">
            <thead>
              <th>Date on vacation</th><th>Staff <small>(full time teacher only)</small></th>
            </thead>
            <tbody>
              {% for vuser, day, vurl in vacations %}
                <tr><td>{{ day }}</td><td>{{ vuser|name }} <a href="{{ vurl }}"><i class="fa fa-calendar"></i></a></td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
{% endblock %}